{% extends "Layout.html" %}

{% block bootstrap %}
<!--Bootstrap-->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<!--Fancy select CSS-->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.2/css/bootstrap-select.min.css">

<!--Bootstrap core js-->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!--Fancy select js-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.2/js/bootstrap-select.min.js"></script>

<!--Showtimes js-->
<!--<script src="/js/ShowtimesPage.js"></script>-->
{% endblock %}

{% block content %}
<style>
#layout-body {
	background-image: none;	
   	background-color: black;
}
</style>

<div class="container" style="margin-top: 80px; background-color:white">
	<div class="row">
		<div class="col-lg-6">
			<select class="selectpicker" id="title">
				<option>Beauty and the Beast</option>
				<option>Star Wars: the Force Awakes</option>
				<option>Get Out</option>
			</select>
		</div>
		<div class="col-lg-6">
			<select class="selectpicker" id="times">
				<option>Beauty and the Beast</option>
				<option>Star Wars: the Force Awakes</option>
				<option>Get Out</option>
			</select>
		</div>
	</div>
</div>

<script>
	$(function () {
		$('.selectpicker').selectpicker({
			liveSearch: true
		});

		function populateHelper(data, selector) {
        selector.empty();
        for (var i = 0; i < data.length; i++) {
			selector.append('<option>' + data.Title + '</option>');
        }
        selector.selectpicker('refresh');
    	}

		$.ajax({
			url: "/showtimes/populate",
			type: "GET",

			success: function (data) {
				console.log(data);
				var titleSelector = $("#title");
				populateHelper(data, titleSelector);
			},
			error: function() {
				alert("Something failed");
			}
		});
	});

	

	
</script>
{% endblock %}
